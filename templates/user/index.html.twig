{% extends 'base.html.twig' %}
{% from 'macros/modal.html.twig' import deleteUserModal %}
{% from 'macros/modal.html.twig' import createUserModal %}
{% from 'macros/modal.html.twig' import editRoles %}

{% block title %}Hello UserController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">

 {# Appel de la macro avec le formulaire spécifique #}
{{createUserModal(form)}}

  {# <a href="{{ path('app_user_create') }}"class="btn btn-primary" >crée un utilisateur</a>  #}
<table class="table">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Nom</th>
      <th scope="col">Prénom</th>
      <th scope="col">E-mail</th>
      <th scope="col">Roles</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>

    {% for u in users %}
      <tr>
       
        <th scope="row">{{ u.id }}</th>
        <td>{{ u.firstname }}</td>
        <td>{{ u.lastname }}</td>
        <td>{{ u.email }}</td>
        <td>
          {{editRoles(u)}}
        </td>
        <td>
        {{deleteUserModal(u)}}
        </td>
      </tr>
    {% endfor %}
    
  </tbody>
</table>



</div>
{% endblock %}
